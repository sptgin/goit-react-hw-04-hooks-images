{"version":3,"sources":["services/api.js","components/ImageGalleryItem.js","components/Modal.js","components/Loader.js","components/Button.js","components/ImageGallery.js","components/Searchbar.js","App.js","index.js"],"names":["API","this","api_key","api_url","api_type","api_orientation","_searchQuery","_page","value","a","url","searchQuery","axios","get","result","data","message","ImageGalleryItem","item","handleImageClick","webformatURL","largeImageURL","tags","className","src","alt","onClick","modal","document","querySelector","Modal","onModalClose","useEffect","window","addEventListener","handleEscKey","removeEventListener","event","code","createPortal","target","currentTarget","SpinnerLoader","type","color","height","width","timeout","Button","scrollTo","top","documentElement","scrollHeight","behavior","imagesearch","imageSearchAPI","ImageGallery","state","searchResultArray","searchElements","status","imageLargeURL","errorMessage","image","setState","handleMoreButtonClick","page","search","then","prev","hits","catch","error","prevProps","prevState","props","resetPage","length","total","map","element","id","title","text","Component","Searchbar","onSubmit","useState","searchImage","setSearchImage","preventDefault","trim","alert","placeholder","onChange","App","input","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5fa4f363.chunk.js","sourcesContent":["import axios from 'axios';\nexport default class API {\n  constructor() {\n    this.api_key = '5018958-ed49ccd90878e6614abdf24a6';\n    this.api_url = 'https://pixabay.com/api/';\n    this.api_type = 'image_type=photo';\n    this.api_orientation = 'orientation=horizontal';\n    this._searchQuery = '';\n    this._page = 1;\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  get page() {\n    return this._page;\n  }\n\n  set page(value) {\n    return (this._page += value);\n  }\n\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  async search() {\n    let url = `${this.api_url}?${this.api_type}&${this.api_orientation}&q=${this.searchQuery}&page=${this._page}&per_page=12&key=${this.api_key}\n`;\n    try {\n      const result = await axios.get(url);\n      const data = result.data;\n      return data;\n    } catch (error) {\n      return error.message;\n    }\n  }\n}\n","export default function ImageGalleryItem({ item, handleImageClick }) {\n  const { webformatURL, largeImageURL, tags } = item;\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        onClick={() => handleImageClick(largeImageURL)}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nconst modal = document.querySelector('#modal');\n\nexport default function Modal({ largeImageURL, onModalClose }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscKey);\n    return () => {\n      window.removeEventListener('keydown', handleEscKey);\n    };\n  });\n\n  const handleOverlayclick = event => {\n    if (event.target === event.currentTarget) {\n      onModalClose();\n    }\n  };\n\n  const handleEscKey = event => {\n    if (event.code === 'Escape') {\n      onModalClose();\n    }\n  };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleOverlayclick}>\n      <div className=\"Modal\">\n        <img src={largeImageURL} alt=\"\" />\n      </div>\n    </div>,\n    modal,\n  );\n}\n","import Loader from 'react-loader-spinner';\n\nfunction SpinnerLoader() {\n  return (\n    <Loader\n      className=\"SpinnerLoader\"\n      type=\"Watch\"\n      color=\"#303f9f\"\n      height={100}\n      width={100}\n      timeout={3000} //3 secs\n    />\n  );\n}\n\nexport default SpinnerLoader;\n","function Button() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\nexport default Button;\n","import { Component } from 'react';\nimport imageSearchAPI from '../services/api';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Modal from './Modal';\nimport SpinnerLoader from './Loader';\nimport Button from './Button';\nimport { Notification } from 'react-pnotify';\n\nconst imagesearch = new imageSearchAPI();\n\nexport default class ImageGallery extends Component {\n  state = {\n    searchResultArray: [],\n    searchElements: null,\n    status: 'init',\n    imageLargeURL: '',\n    errorMessage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps !== this.props) {\n      this.setState({ status: 'pending' });\n      imagesearch.resetPage();\n      imagesearch.searchQuery = this.props.searchQuery;\n      imagesearch.search().then(searchResultArray => {\n        if (searchResultArray.hits.length > 0) {\n          this.setState({\n            searchResultArray: searchResultArray.hits,\n            searchElements: searchResultArray.total,\n            status: 'success',\n          });\n        } else {\n          this.setState({\n            status: 'error',\n            errorMessage: 'No images found ...',\n          });\n        }\n      });\n    }\n  }\n\n  handleImageClick = image => {\n    this.setState({\n      imageLargeURL: image,\n      status: 'showmodal',\n    });\n  };\n  onModalClose = () => {\n    this.setState({\n      status: 'success',\n    });\n  };\n\n  handleMoreButtonClick = event => {\n    imagesearch.page = 1;\n    imagesearch\n      .search()\n      .then(searchResultArray => {\n        this.setState(prev => ({\n          searchResultArray: [\n            ...prev.searchResultArray,\n            ...searchResultArray.hits,\n          ],\n          status: 'success',\n        }));\n        Button();\n      })\n      .catch(error => {\n        this.setState({ status: 'error', errorMessage: error });\n      });\n  };\n\n  render() {\n    const {\n      status,\n      searchResultArray,\n      searchElements,\n      imageLargeURL,\n      errorMessage,\n    } = this.state;\n\n    if (status === 'init') {\n      return <h1 className=\"title\"></h1>;\n    }\n\n    if (status === 'pending') {\n      return <SpinnerLoader />;\n    }\n\n    if (status === 'success') {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {searchResultArray.map(element => (\n              <ImageGalleryItem\n                key={element.id}\n                item={element}\n                handleImageClick={this.handleImageClick}\n              />\n            ))}\n          </ul>\n          {searchElements > 12 && (\n            <button\n              className=\"Button\"\n              type=\"button\"\n              id=\"more\"\n              onClick={this.handleMoreButtonClick}\n            >\n              load more\n            </button>\n          )}\n        </>\n      );\n    }\n\n    if (status === 'showmodal') {\n      return (\n        <Modal largeImageURL={imageLargeURL} onModalClose={this.onModalClose} />\n      );\n    }\n\n    if (status === 'error') {\n      return <Notification type=\"Error\" title=\"Error\" text={errorMessage} />;\n    }\n  }\n}\n","import PropTypes from 'prop-types';\nimport { useState } from 'react';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchImage, setSearchImage] = useState('');\n\n  const handlerChange = event => {\n    setSearchImage(event.target.value);\n  };\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n    if (searchImage.trim() === '') {\n      alert('Please, enter some for search image ... ');\n      return;\n    }\n    onSubmit(searchImage);\n    setSearchImage('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={onSubmitForm}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          value={searchImage}\n          type=\"search\"\n          placeholder=\"Search images and photos\"\n          onChange={handlerChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\n\nexport default function App() {\n  const [searchImage, setSearchImage] = useState('');\n\n  const onSubmit = input => {\n    setSearchImage(input);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery searchQuery={searchImage} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}